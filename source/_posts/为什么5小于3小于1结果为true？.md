---
title: 为什么5<3<1结果为true?(隐式转换的锅)
date: 2018-04-03 17:53:49
tags: 
- js
- Q&A
comments: true
---

今天同事问了我一道题  
![](https://upload-images.jianshu.io/upload_images/11264410-af45b47addca2184.png)

**问：为什么输出出来了**

<!--more-->
看见这张图后相信大多数人跟我一样反应都是**谁会去这么写代码！！！**  
我也是这么给他说的，然后他说“**面试官问的**”。。。-_-||

首先，面试官很聪明，先用`1<=4<=1000`来迷惑你，让人很容易就掉进区间判断的坑，接着第二个给你来个怪异的，就把你放蒙了
当然，我也蒙了

于是我先在控制台试了一下`5<3<1`不出意料的还是`true`

原有基础告诉我，判断区间不能这么写，但是，还真没有这样试过，只是感觉这肯定不是判断完区间的结果。  
思路如下：
+ `5<3<1`肯定不是区间判断
+ 按顺序执行？赋值语句从右往左，他肯定是由左往右
+ 难道是`(5<3)<1`？
+ 于是想到了js隐式类型转换，双等`==`加减用的多了，都忘了大于小于也有隐式类型转换
+ 抽出显示器下的红宝书，查了一番 以下在第三版p50页

> 与 ECMAScript 中的其他操作符一样，当关系操作符的操作数使用了非数值时，也要进行数据转换或完成某些奇怪的操作。以下就是相应的规则。
> 如果两个操作数都是数值，则执行数值比较。
> 如果两个操作数都是字符串，则比较两个字符串对应的字符编码值。
> 如果一个操作数是数值，则将另一个操作数转换为一个数值，然后执行数值比较。
>    如果一个操作数是对象，则调用这个对象的valueOf()方法，用得到的结果按照前面的规则执行比较.如果对象没有valueOf()方法，则调用toString()方法，并用得到的结果根据前面的规则执行比较。
> 如果一个操作数是布尔值，则先将其转换为数值，然后再执行比较。

由此可见，`5<3<1`是经历了`(5<3)<1`->`false<1`->`0<1`->`true`的过程

综上，对于这种代码，只要最后以为大于1，不管前面是啥，结果都是true，所以前面的题自然会console.log('2222222')啦
