webpackJsonp([1],{BOU0:function(e,t){e.exports={getCookie:function(e){var t=document.cookie;if(!e)return t;var s=new RegExp("[\\s^]"+e+"=([^;]*)"),n=t.match(s);return n?n[1]:void 0},setCookie:function(e,t,s){var n=new Date;n.setTime(n.getTime()+24*s*60*60*1e3),document.cookie=e+"="+t+";expires="+n.toGMTString()},delCookie:function(e){document.cookie=e+"=;expires="+new Date(1).toGMTString()}}},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("IvJb"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=s("C7Lr")({name:"App"},o,!1,function(e){s("Raw3")},null,null).exports,i=s("aozt"),a=s.n(i),u=s("zO6J"),c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h1",{staticClass:"center"},[e._v("ADVANCE.AI")]),e._v(" "),s("div",{staticClass:"login-wrapper"},[s("div",{staticClass:"login-info login-user"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"tel",placeholder:"请输入手机号码"},domProps:{value:e.username},on:{focus:e.hideErr,input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"login-info login-pwd"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"请输入密码"},domProps:{value:e.password},on:{focus:e.hideErr,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"center"},[s("button",{staticClass:"btn",on:{click:e.doLogin}},[e._v("登录")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"center err-wrapper"},[s("span",{staticClass:"red"},[e._v(e._s(e.errMsg))])])])])},staticRenderFns:[]};var d=s("C7Lr")({name:"Login",data:function(){return{username:"",password:"",isShow:!1,errMsg:""}},watch:{username:function(e){this.username=e.length>11?e.substring(0,11):e}},methods:{showErr:function(e){this.isShow=!0,this.errMsg=e},hideErr:function(){this.isShow=!1,this.errMsg=""},doLogin:function(){var e=this,t=function(t,s){if(t)return!0;e.showErr(s)},s=function(t,s,n){if(t.match(s))return!0;e.showErr(n)};t(this.username,"请输入手机号码")&&t(this.password,"请输入密码")&&s(this.username,/^1[35678]\d{9}$/,"请输入正确的手机号码")&&this.axios({method:"post",url:"http://test.advance.ai/login",data:{username:this.username,password:this.password}}).then(function(t){2===t.data.resCode?e.$router.push({path:"/Welcome"}):e.showErr(t.data.msg)})}}},c,!1,function(e){s("gDfX")},"data-v-820a612a",null).exports,p=s("BOU0"),m={name:"Welcome",data:function(){return{username:""}},methods:{logout:function(){Object(p.delCookie)("session_id"),this.$router.go(0)}},created:function(){this.username=Object(p.getCookie)("username")}},l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",{staticClass:"center"},[this._v("Hello,"+this._s(this.username))]),this._v(" "),t("div",{staticClass:"center logout"},[t("span",{on:{click:this.logout}},[this._v("注销")])])])},staticRenderFns:[]};var h=s("C7Lr")(m,l,!1,function(e){s("oXHp")},"data-v-7c221a32",null).exports;n.a.use(u.a);var v=new u.a({routes:[{path:"/Login",name:"Login",component:d},{path:"/Welcome",name:"Welcome",component:h},{path:"*",redirect:"/Login"}]});v.beforeEach(function(e,t,s){Object(p.getCookie)("session_id")?"Login"===e.name&&v.push("Welcome"):"Login"!==e.name&&v.push("Login"),s()});var f=v,g=s("cLQA"),w=[{username:"18435155822",password:"256BA7535D9CA10895DB6F7E3D224CD2"},{username:"17610965822",password:"7E9A189720D3E12990C04E560A68B8B2"}],C={};s.n(g).a.mock("http://test.advance.ai/login","post",function(e){var t=JSON.parse(e.body),s=t.username,n=t.password;n=function(e){if("123456"===e)return"256BA7535D9CA10895DB6F7E3D224CD2";if("654321"===e)return"7E9A189720D3E12990C04E560A68B8B2"}(n);for(var o=void 0,r=0;r<w.length;r++)w[r].username===s&&(o=w[r]);if(o){if(n===o.password){var i=Math.random().toString().substring(2);return C[i]=s,Object(p.setCookie)("session_id",i,30),Object(p.setCookie)("username",s,30),{resCode:2,msg:"成功"}}return{resCode:1,msg:"用户密码错误"}}return{resCode:4,msg:"用户不存在"}}),n.a.prototype.axios=a.a,n.a.config.productionTip=!1,new n.a({el:"#app",router:f,components:{App:r},template:"<App/>"})},Raw3:function(e,t){},gDfX:function(e,t){},oXHp:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.624ff2e597e6ea8ac302.js.map